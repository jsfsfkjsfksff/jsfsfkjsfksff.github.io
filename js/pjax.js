(()=>{function w(t,n){if(n<t.length){let e=t[n],c=e.getAttribute("src"),d=o=>new Promise((a,l)=>{let i=document.createElement("script");e.type&&(i.type=e.type),e.src&&(i.src=e.src,e.integrity&&(i.integrity=e.integrity),e.crossOrigin&&(i.crossOrigin=e.crossOrigin),i.onload=a,i.onerror=l),o&&(i.text=o),document.head.appendChild(i),e.src||a()});(c?d():d(e.text)).then(()=>w(t,n+1)).catch(o=>{console.error(`Failed to load script: ${c||"inline script"}`,o),w(t,n+1)})}}window.Pjax&&(Pjax.prototype.getElements=function(){let t=window.siteConfig.i18n_languages,n=window.siteConfig.base,e=new URL(n).pathname;e.endsWith("/")||(e+="/");let c=window.location.href,d=new URL(c).pathname.replace(e,""),o=document.querySelectorAll("a[href]"),a=[];for(let l=0;l<o.length;l++){let i=o[l],r=i.getAttribute("href");if(i.getAttribute("target")==="_blank"||i.getAttribute("rel")?.includes("noopener")||r.startsWith("mailto:")||r.startsWith("tel:")||r.startsWith("javascript:")||r.startsWith("data:")||r.startsWith("vbscript:"))continue;if(!t){a.push(i);continue}let s=new URL(r,c).href,p=new URL(s).pathname.replace(e,"");if(!p||!d){a.push(i);continue}let f=t.findIndex(u=>d.startsWith(u.Lang));f>-1?t.findIndex(m=>p.startsWith(m.Lang))===f&&a.push(i):t.findIndex(m=>p.startsWith(m.Lang))===-1&&a.push(i)}return a});window.Pjax&&new window.Pjax({selectors:["#header>img","#header>picture","head title","#header-title","#subtitle-wrap","#main","#content",".sidebar-widget",".sidebar-wrapper",".sidebar-wrapper-container","#mobile-nav","#lazy-script","#i18n-nav"],switches:{".sidebar-wrapper-container":function(t,n){t.className=n.className,this.onSwitch()},"#content":function(t,n){t.className=n.className,this.onSwitch()},"#header-title":Pjax.switches.outerHTML,"#subtitle-wrap":Pjax.switches.outerHTML,"#main":function(t,n){let e=[...n.querySelectorAll("script")];w(e,0),t.outerHTML=n.outerHTML,this.onSwitch()},"#mobile-nav":Pjax.switches.outerHTML,"#lazy-script":function(t,n){let e=[...n.querySelectorAll("script")];w(e,0),t.innerHTML=n.innerHTML,this.onSwitch()}},cacheBust:!1});window.addEventListener("pjax:success",()=>{_$$("script[data-pjax]").forEach(t=>{let{textContent:n,parentNode:e,id:c,className:d,type:o,src:a,dataset:l,integrity:i,crossOrigin:r}=t,h=n||"",s=document.createElement("script");c&&(s.id=c),d&&(s.className=d),o&&(s.type=o),l.pjax!==void 0&&(s.dataset.pjax=""),i&&(s.integrity=i),r&&(s.crossOrigin=r),a?(s.src=a,s.async=!1):h&&(s.textContent=h),e?.replaceChild(s,t)})});window.addEventListener("pjax:complete",()=>{_$("#header-nav")?.classList.remove("header-nav-hidden");let t=window.localStorage.getItem("dark_mode");if(t=="true")document.body.dispatchEvent(new CustomEvent("dark-theme-set"));else if(t=="false")document.body.dispatchEvent(new CustomEvent("light-theme-set"));else if(t==="auto"){let n=window.matchMedia("(prefers-color-scheme: dark)").matches;document.body.dispatchEvent(new CustomEvent(`${n?"dark":"light"}-theme-set`))}window.walineInstance&&(window.walineInstance.destroy(),window.walineInstance=null)});window.addEventListener("pjax:send",()=>{window.lightboxStatus="loading",window.__panZoomList&&(window.__panZoomList.forEach(t=>t.destroy()),window.__panZoomList=[])});window.startLoading&&window.addEventListener("pjax:send",startLoading);window.endLoading&&window.addEventListener("pjax:complete",endLoading);window.aosInit&&window.addEventListener("pjax:success",aosInit);})();
